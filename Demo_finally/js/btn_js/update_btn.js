$(function(){

    var spread=false;
     $(".page_moviedetail").click(function() {
	$(".picurl_1").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 5px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	$(".picurl_2").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	$(".picurl_3").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	$(".picurl_4").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	spread = false;
	changeBG();
});
$(".head").click(function() {
	$(".picurl_1").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 5px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	$(".picurl_2").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	$(".picurl_3").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	$(".picurl_4").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	spread = false;
	changeBG();
});
$(".index_page").click(function() {
	$(".picurl_1").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 5px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	$(".picurl_2").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	$(".picurl_3").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	$(".picurl_4").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	spread = false;
	changeBG();
});
$(".endText").click(function() {
	$(".picurl_1").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 5px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	$(".picurl_2").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	$(".picurl_3").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	$(".picurl_4").css({
		"top": offsetY - 10,
		"left": offsetX - 10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	spread = false;
	changeBG();
});

    function updateoffset() {
 	$(".picurl_1").css({
 		"top": offsetY,
 		"left": offsetX,
 		"width": "30px",
 		"height": "30px",
 		"border-radius": "30px",
 		"box-shadow": "0 0 0px #333",
 		"transition": "all 0.5s ease"
 	});
 	$(".picurl_2").css({
 		"top": offsetY,
 		"left": offsetX,
 		"width": "30px",
 		"height": "30px",
 		"border-radius": "30px",
 		"box-shadow": "0 0 0px #333",
 		"transition": "all 0.5s ease"
 	});
 	$(".picurl_3").css({
 		"top": offsetY,
 		"left": offsetX,
 		"width": "30px",
 		"height": "30px",
 		"border-radius": "30px",
 		"box-shadow": "0 0 0px #333",
 		"transition": "all 0.5s ease"
 	});
 	$(".picurl_4").css({
 		"top": offsetY,
 		"left": offsetX,
 		"width": "30px",
 		"height": "30px",
 		"border-radius": "30px",
 		"box-shadow": "0 0 0px #333",
 		"transition": "all 0.5s ease"
 	});

 	spread = false;
 }
	function newUpdateOffset() {
	$(".picurl_1").css({
		"top": offsetY-10,
		"left": offsetX-10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	$(".picurl_2").css({
		"top": offsetY-10,
		"left": offsetX-10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	$(".picurl_3").css({
		"top": offsetY-10,
		"left": offsetX-10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});
	$(".picurl_4").css({
		"top": offsetY-10,
		"left": offsetX-10,
		"width": "30px",
		"height": "30px",
		"border-radius": "30px",
		"box-shadow": "0 0 0px #333",
		"opacity": "0",
		"transition": "all 0.5s ease"
	});

}
	
	function updatePic() {
	$(".picurl_1").css({
		"top": pic_1_offsetY,
		"left": pic_1_offsetX,
		"width": "50px",
		"height": "50px",
		"border-radius": "10px",
		"box-shadow": "0 0 5px #333",
		"opacity": "0.5",
		"transition": "all 0.5s ease"
	});
	$(".picurl_2").css({
		"top": pic_2_offsetY,
		"left": pic_2_offsetX,
		"width": "50px",
		"height": "50px",
		"border-radius": "10px",
		"box-shadow": "0 0 5px #333",
		"opacity": "0.5",
		"transition": "all 0.5s ease"
	});
	$(".picurl_3").css({
		"top": pic_3_offsetY,
		"left": pic_3_offsetX,
		"width": "50px",
		"height": "50px",
		"border-radius": "10px",
		"box-shadow": "0 0 5px #333",
		"opacity": "0.5",
		"transition": "all 0.5s ease"
	});
	$(".picurl_4").css({
		"top": pic_4_offsetY,
		"left": pic_4_offsetX,
		"width": "50px",
		"height": "50px",
		"border-radius": "10px",
		"box-shadow": "0 0 5px #333",
		"opacity": "0.5",
		"transition": "all 0.5s ease"
	});

	spread = true;
}
	
	
	function newUpdatePic() {
	$(".picurl_1").css({
		"top": pic_1_offsetY,
		"left": pic_1_offsetX,
		"width": "50px",
		"height": "50px",
		"border-radius": "10px",
		"box-shadow": "0 0 5px #333",
		"opacity": "0.5",
		"transition": "all 0s ease"
	});
	$(".picurl_2").css({
		"top": pic_2_offsetY,
		"left": pic_2_offsetX,
		"width": "50px",
		"height": "50px",
		"border-radius": "10px",
		"box-shadow": "0 0 5px #333",
		"opacity": "0.5",
		"transition": "all 0s ease"
	});
	$(".picurl_3").css({
		"top": pic_3_offsetY,
		"left": pic_3_offsetX,
		"width": "50px",
		"height": "50px",
		"border-radius": "10px",
		"box-shadow": "0 0 5px #333",
		"opacity": "0.5",
		"transition": "all 0s ease"
	});
	$(".picurl_4").css({
		"top": pic_4_offsetY,
		"left": pic_4_offsetX,
		"width": "50px",
		"height": "50px",
		"border-radius": "10px",
		"box-shadow": "0 0 5px #333",
		"opacity": "0.5",
		"transition": "all 0s ease"
	});

	spread = true;
}
	
	var btnPos=$(".btn_r_c").get(0).getBoundingClientRect();
	
	var offsetY=btnPos.top;			
	var offsetX=$(".btn_r_c").offset().left;

	
	 var pic_1_offsetX = offsetX-10;
     var pic_1_offsetY = offsetY - 60;
     var pic_2_offsetX = offsetX + 40;
     var pic_2_offsetY = offsetY -10;
     var pic_3_offsetX = offsetX -60;
     var pic_3_offsetY = offsetY - 10 ;
     var pic_4_offsetX = offsetX -10;
     var pic_4_offsetY = offsetY +40;
     
     
	function update(offsetX,offsetY){
     pic_1_offsetX = offsetX-10;
     pic_1_offsetY = offsetY - 60;
     pic_2_offsetX = offsetX + 40;
     pic_2_offsetY = offsetY -10;
     pic_3_offsetX = offsetX -60;
     pic_3_offsetY = offsetY - 10 ;
     pic_4_offsetX = offsetX -10;
     pic_4_offsetY = offsetY +40;
   
   
	
    
	}
	$(".btn_r_c").draggable();	
    
    var firstTime = 0;
    var lastTime = 0;
	$(".btn_r_c").on("mousedown",function(e){
		firstTime=new Date().getTime();
		newUpdateOffset();
		$(".btn_r_c").css("cursor","default");
		changeBG();
		
		
	});
		
	$(document).on("mouseup",function(){
		lastTime=new Date().getTime();
	
		if(lastTime-firstTime>200){				
			
		    btnPos=$(".btn_r_c").get(0).getBoundingClientRect();
		    offsetY=btnPos.top;
		   
			offsetX=$(".btn_r_c").offset().left;
			
			update(offsetX,offsetY);
			
			if(spread){
				newUpdatePic();
			}
		  
			$(".btn_r_c").css("cursor","pointer");
			changeBG();
			
		}
		
		if(lastTime-firstTime<200){
			if(spread){
			 updateoffset();
			}
			else{
			 updatePic();
			}		
			changeBG();
		}	
	});
	function changeBG(){
	if(spread){
		$(".btn_r_c").css({"background-color":"white","opacity": "0.5"});
	}
	else{
		$(".btn_r_c").css({"background-color":"gainsboro","opacity": "1"});
	}
	}
	
})
